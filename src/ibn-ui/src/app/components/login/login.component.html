<div class="login-container">
  <div class="login-card">
    <!-- Breadcrumb Navigation with User Type Dropdown -->
    <div class="breadcrumb-section">
      <div class="breadcrumb-dropdown">
        <button 
          type="button" 
          class="dropdown-toggle" 
          (click)="toggleUserTypeDropdown()"
          [class.dropdown-open]="showUserTypeDropdown"
        >
          <span class="dropdown-text">{{ selectedUserType }}</span>
          <span class="dropdown-icon">â–¼</span>
        </button>
        <div class="dropdown-menu" *ngIf="showUserTypeDropdown">
          <button 
            type="button" 
            class="dropdown-item" 
            (click)="selectUserType('Personal')"
            [class.active]="selectedUserType === 'Personal'"
          >
            Personal
          </button>
          <button 
            type="button" 
            class="dropdown-item" 
            (click)="selectUserType('Banker')"
            [class.active]="selectedUserType === 'Banker'"
          >
            Banker
          </button>
        </div>
      </div>
    </div>

    <!-- Logo/Header -->
    <div class="login-header">
      <h1>Digital Banking</h1>
      <p class="subtitle">Secure Login</p>
    </div>

    <!-- Error Message -->
    <div class="alert alert-error" *ngIf="showErrorMessage">
      <div class="alert-content">
        <span class="alert-icon">âš ï¸</span>
        <p class="alert-message">{{ errorMessage }}</p>
      </div>
    </div>

    <!-- Login Form -->
    <form class="login-form" (ngSubmit)="onLogin()">
      <!-- Customer ID Field -->
      <div class="form-group">
        <label for="customerId" class="form-label">
          <span class="label-icon">ğŸ‘¤</span>
          Customer ID
        </label>
        <input
          type="text"
          id="customerId"
          [(ngModel)]="customerId"
          name="customerId"
          class="form-input"
          placeholder="Enter your Customer ID"
          [disabled]="isAccountLocked || isLoading"
          autocomplete="off"
          aria-label="Customer ID"
          required
        />
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password" class="form-label">
          <span class="label-icon">ğŸ”</span>
          Password
        </label>
        <input
          type="password"
          id="password"
          [(ngModel)]="password"
          name="password"
          class="form-input"
          placeholder="Enter your Password"
          [disabled]="isAccountLocked || isLoading"
          autocomplete="off"
          aria-label="Password"
          required
        />
      </div>

      <!-- CAPTCHA Field (appears after first failed attempt) -->
      <div class="form-group" *ngIf="showCaptcha && !isAccountLocked">
        <label for="captcha" class="form-label">
          <span class="label-icon">ğŸ¤–</span>
          Security Verification
        </label>
        <div class="captcha-container">
          <div class="captcha-question">
            <p>What is <strong>2 + 3</strong>?</p>
          </div>
          <input
            type="text"
            id="captcha"
            [(ngModel)]="captchaValue"
            name="captcha"
            class="form-input captcha-input"
            placeholder="Enter the answer"
            [disabled]="isLoading"
            autocomplete="off"
            aria-label="CAPTCHA"
            inputmode="numeric"
          />
          <p class="captcha-error" *ngIf="captchaError">{{ captchaError }}</p>
        </div>
      </div>

      <!-- Login Button -->
      <button
        type="submit"
        class="btn-login"
        [disabled]="isAccountLocked || isLoading"
        [class.btn-loading]="isLoading"
      >
        <span *ngIf="!isLoading" class="btn-text">
          <span class="btn-icon">ğŸ”“</span>
          Logon
        </span>
        <span *ngIf="isLoading" class="btn-text">
          <span class="spinner"></span>
          Logging in...
        </span>
      </button>

      <!-- Customer Registration Button -->
      <button
        type="button"
        class="btn-reset"
        (click)="onCustomerRegistration()"
        [disabled]="isLoading"
      >
        Customer Registration
      </button>
    </form>

    <!-- Help Links -->
    <div class="help-section" *ngIf="!isAccountLocked">
      <div class="help-links">
        <a href="javascript:void(0)" (click)="onForgotPassword()" class="help-link">
          <span class="link-icon">ğŸ”‘</span>
          Forgot Password?
        </a>
        <span class="divider">|</span>
        <a href="javascript:void(0)" (click)="onForgotCustomerId()" class="help-link">
          <span class="link-icon">â“</span>
          Forgot Customer ID?
        </a>
      </div>
    </div>

    <!-- Account Locked Message -->
    <div class="locked-message" *ngIf="isAccountLocked">
      <p class="locked-icon">ğŸ”’</p>
      <p class="locked-text">Account Locked</p>
      <p class="locked-description">
        Your account has been locked due to multiple failed login attempts.
        <br />
        Please contact the administrator for assistance.
      </p>
      <div class="contact-info">
        <p>ğŸ“ Support: 1-800-BANKING</p>
        <p>ğŸ“§ Email: support@digitalbanking.com</p>
      </div>
    </div>

    <!-- Footer -->
    <div class="login-footer">
      <p class="footer-text">ğŸ”’ Your data is encrypted and secure</p>
      <p class="footer-links">
        <a href="javascript:void(0)">Privacy Policy</a> | 
        <a href="javascript:void(0)">Terms of Service</a> | 
        <a href="javascript:void(0)">Help Center</a>
      </p>
    </div>
  </div>
</div>
